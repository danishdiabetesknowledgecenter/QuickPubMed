<!DOCTYPE html>
<html lang="da" style="background: white">
  <head>
    <meta charset="utf-8" />
    <title>QuickPubMed Editor</title>
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=5.0, minimum-scale=1.0, width=device-width" />
    <link rel="stylesheet" media="all" href="https://videncenterfordiabetes.dk/css/bundle.css" />
    <style>
      body { margin: 0; padding: 16px; background: #f7f9fc; font-family: Arial, sans-serif; color: #1f2a37; }
      .qpm-editor-wrap { }
      .qpm-editor-row { display: flex; gap: 12px; flex-wrap: wrap; margin-bottom: 12px; }
      .qpm-editor-input, .qpm-editor-select, .qpm-editor-textarea { width: 100%; border: 1px solid #ced4da; border-radius: 6px; padding: 6px 8px; font-size: 13px; line-height: 1.3; box-sizing: border-box; }
      .qpm-editor-textarea { min-height: 88px; font-family: Consolas, monospace; }
      .qpm-editor-textarea-json { min-height: 320px; }
      .qpm-editor-btn { background: #0d6efd; color: #fff; border: 1px solid #0d6efd; border-radius: 6px; padding: 9px 14px; cursor: pointer; }
      .qpm-editor-btn-secondary { background: #fff; color: #0d6efd; }
      .qpm-editor-tree { width: 100%; border: 1px solid #ced4da; border-radius: 6px; background: #fff; padding: 8px; box-sizing: border-box; }
      .qpm-editor-tree ul { list-style: none; margin: 0; padding-left: 35px; width: 100%; box-sizing: border-box; }
      .qpm-editor-tree li { margin: 6px 0; }
      .qpm-editor-tree-category { margin: 10px 0 0; }
      .qpm-editor-tree-item-row { display: flex; align-items: center; gap: 8px; width: 100%; }
      .qpm-editor-tree-toggle { width: 28px; min-width: 28px; height: 28px; border: 1px solid #ced4da; border-radius: 6px; background: #fff; cursor: pointer; }
      .qpm-editor-tree-toggle:disabled { opacity: 0.55; cursor: default; }
      .qpm-editor-tree-item,
      .qpm-editor-tree-category-btn { flex: 1; text-align: left; border: 1px solid #ced4da; border-radius: 6px; background: #fff; padding: 8px 10px; cursor: pointer; }
      .qpm-editor-tree-item.is-selected,
      .qpm-editor-tree-category-btn.is-selected { border-color: #0d6efd; box-shadow: 0 0 0 1px rgba(13,110,253,.3) inset; background: #f3f8ff; }
      .qpm-editor-inline-editor { margin: 8px 0 12px 36px; padding: 10px; border: 1px dashed #ced4da; border-radius: 6px; background: #fafcff; display: grid; gap: 6px; }
      .qpm-editor-field-label { margin: 4px 0 0; font-size: 12px; color: #5b6470; }
      .qpm-editor-checkbox-label { display: flex; align-items: center; gap: 8px; font-size: 13px; color: #2f3a48; }
      .qpm-editor-btn-danger { border-color: #dc3545; background: #dc3545; color: #fff; }
      .qpm-editor-dropzones { margin: 4px 0 0 36px; display: flex; gap: 6px; flex-wrap: wrap; }
      .qpm-editor-dropzone { border: 1px dashed #9fb7d9; border-radius: 6px; padding: 4px 8px; font-size: 12px; color: #315e94; background: #f5f9ff; }
      .qpm-editor-dropzone.is-over { background: #dcecff; border-color: #0d6efd; }
      .qpm-editor-tree-add-row { margin: 10px 0 6px; }
      .qpm-editor-tree-add-end-btn { border: 1px dashed #0d6efd; background: #fff; color: #0d6efd; border-radius: 6px; padding: 7px 10px; cursor: pointer; }
      .qpm-editor-status-ok { color: #137333; }
      .qpm-editor-status-error { color: #b42318; }
      .qpm-editor-hidden { display: none; }
      .qpm-editor-note { margin: 0; font-size: 13px; color: #4b5563; }
      .qpm-editor-status { margin-top: 8px; font-size: 14px; }
    </style>
  </head>
  <body>
    <div
      id="qpm-editor"
      class="qpm-editor-wrap"
      data-domain="diabetes"
      data-topic-domains="diabetes"
      data-filters-enabled="true"
      data-language="dk"
    >
      <h1>QuickPubMed Editor</h1>
      <p>Login for at redigere topics og filtre fra flat files.</p>
      <p class="qpm-editor-note">Aktiv API: <span id="qpm-editor-api-base"></span></p>
      <p class="qpm-editor-note">Aktuelt topic: <strong id="qpm-editor-active-topic">-</strong></p>

      <section id="qpm-editor-login">
        <div class="qpm-editor-row">
          <input id="qpm-editor-user" class="qpm-editor-input" type="text" placeholder="Brugernavn" />
          <input id="qpm-editor-password" class="qpm-editor-input" type="password" placeholder="Password" />
        </div>
        <div class="qpm-editor-row">
          <button id="qpm-editor-login-btn" class="qpm-editor-btn" type="button">Log ind</button>
        </div>
      </section>

      <section id="qpm-editor-app" class="qpm-editor-hidden">
        <div class="qpm-editor-row">
          <select id="qpm-editor-domain" class="qpm-editor-select"></select>
          <select id="qpm-editor-type" class="qpm-editor-select">
            <option value="topics">Topics</option>
            <option value="filters">Filters</option>
          </select>
        </div>
        <div class="qpm-editor-row">
          <button id="qpm-editor-load-btn" class="qpm-editor-btn qpm-editor-btn-secondary qpm-editor-hidden" type="button">Hent</button>
          <button id="qpm-editor-save-btn" class="qpm-editor-btn" type="button">Gem</button>
          <button id="qpm-editor-logout-btn" class="qpm-editor-btn qpm-editor-btn-secondary" type="button">Log ud</button>
        </div>

        <div id="qpm-editor-topic-tools" class="qpm-editor-row">
          <input id="qpm-editor-tree-search" class="qpm-editor-input" type="text" placeholder="Søg i emner (id eller navn)" />
          <label>
            <input id="qpm-editor-sort-mode" type="checkbox" />
            Sorteringstilstand
          </label>
          <button id="qpm-editor-expand-all-btn" class="qpm-editor-btn qpm-editor-btn-secondary" type="button">Fold alle ud</button>
          <button id="qpm-editor-collapse-all-btn" class="qpm-editor-btn qpm-editor-btn-secondary" type="button">Fold alle sammen</button>
          <div id="qpm-editor-topic-tree" class="qpm-editor-tree"></div>
          <p class="qpm-editor-note">Klik et emne i træet for inline redigering. Aktiver sorteringstilstand for drag-and-drop.</p>
          <button id="qpm-editor-toggle-json-btn" class="qpm-editor-btn qpm-editor-btn-secondary" type="button">Vis rå JSON</button>
        </div>

        <textarea id="qpm-editor-json" class="qpm-editor-textarea qpm-editor-textarea-json qpm-editor-hidden" spellcheck="false"></textarea>
      </section>

      <div id="qpm-editor-status" class="qpm-editor-status"></div>
    </div>
    <script type="module" src="../scripts/Editor.js"></script>
  </body>
</html>
